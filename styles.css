:root {
      --bg: #020617;
      --card: #0f172a;
      --accent: #2dd4bf; 
      --accent-glow: rgba(45, 212, 191, 0.3);
      --text-main: #f8fafc;
      --text-muted: #94a3b8;
      --border: rgba(255, 255, 255, 0.06);
      --glass: rgba(255, 255, 255, 0.03);
      --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.4);
      --warning: #facc15; 
      --danger: #fb923c;  
      --success: #22c55e; 
    }

    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
    body { 
      margin: 0; background: var(--bg); color: var(--text-main); 
      font-family: 'Plus Jakarta Sans', sans-serif; overflow-x: hidden;
    }

    header {
      padding: 24px 20px; background: rgba(2, 6, 23, 0.8); backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border); position: sticky; top: 0; z-index: 1000;
      display: flex; align-items: center; gap: 15px;
    }
    .logo-img { width: 50px; height: 50px; border-radius: 14px; border: 2px solid var(--accent); object-fit: cover; }
    .header-info h1 { margin: 0; font-size: 1.2rem; font-weight: 800; letter-spacing: -0.5px; }
    .header-info p { margin: 0; font-size: 0.75rem; color: var(--text-muted); font-weight: 500; }

    nav {
      display: flex; gap: 10px; overflow-x: auto; padding: 12px 20px;
      background: var(--bg); border-bottom: 1px solid var(--border); scrollbar-width: none;
    }
    nav::-webkit-scrollbar { display: none; }
    .tab {
      padding: 10px 18px; border-radius: 12px; background: var(--glass);
      font-size: 0.85rem; font-weight: 600; color: var(--text-muted);
      cursor: pointer; white-space: nowrap; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      border: 1px solid transparent; display: flex; align-items: center; gap: 8px;
    }
    .tab.active { background: var(--accent-glow); color: var(--accent); border-color: var(--accent); transform: scale(1.05); }

    .container { padding: 15px; max-width: 900px; margin: 0 auto; padding-bottom: 80px; }
    .section { display: none; animation: slideUp 0.4s ease-out; }
    .section.active { display: block; }
    @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

    .card { background: var(--card); border-radius: 20px; padding: 20px; border: 1px solid var(--border); margin-bottom: 20px; box-shadow: var(--shadow); }
    .card-title { font-weight: 700; font-size: 1rem; margin-bottom: 15px; color: var(--accent); display: flex; align-items: center; gap: 10px; }

    .sub-nav { display: flex; gap: 8px; margin-bottom: 15px; overflow-x: auto; padding-bottom: 5px; }
    .badge { 
      padding: 8px 16px; border-radius: 10px; font-size: 0.75rem; font-weight: 700;
      background: var(--glass); cursor: pointer; color: var(--text-muted); border: 1px solid var(--border);
      white-space: nowrap;
    }
    .badge.active { background: var(--accent); color: var(--bg); border-color: var(--accent); }

    /* OTIMIZAÇÃO DE ESCALAS - REDUÇÃO DE ESPAÇOS */
    .escala-mobile-item {
      padding: 10px; border-bottom: 1px solid var(--border);
      display: flex; flex-direction: column; gap: 2px;
    }
    .escala-date-row { font-weight: 800; color: var(--accent); font-size: 0.9rem; margin-bottom: 2px; }
    .escala-info-row { font-size: 0.82rem; color: var(--text-main); line-height: 1.3; }
    .escala-label { color: var(--text-muted); font-weight: 600; font-size: 0.75rem; text-transform: uppercase; }

    /* ABA MINHAS ESCALAS - ROLAGEM VERTICAL */
    .members-grid { 
        display: flex; flex-direction: column; gap: 15px; 
    }
    .m-card { 
        background: var(--card); 
        border-radius: 0; /* Remove arredondamento para parecer tela cheia */
        padding: 20px; 
        text-align: center; 
        border-bottom: 1px solid var(--border); 
        
        /* ESTAS LINHAS ABAIXO FAZEM A MÁGICA DA ALTURA E CENTRALIZAÇÃO */
        height: calc(100vh - 160px); /* Ocupa a altura total da tela menos o topo */
        display: flex;
        flex-direction: column;
        justify-content: center; /* Centraliza tudo na vertical */
        align-items: center;     /* Centraliza tudo na horizontal */
    }
    .m-avatar { width: 80px; height: 80px; border-radius: 50%; margin-bottom: 12px; border: 3px solid var(--accent); padding: 3px; object-fit: cover; }
    .m-name { font-weight: 800; font-size: 1.1rem; margin-bottom: 4px; }
    .m-bday { font-size: 0.75rem; color: var(--text-muted); margin-bottom: 12px; display: block; }
    .btn-escala { background: var(--accent-glow); color: var(--accent); border: none; padding: 12px; border-radius: 10px; font-size: 0.85rem; font-weight: 700; cursor: pointer; width: 100%; }
    .btn-escala.stop { background: #ef4444; color: white; }
    .escala-list { 
        display: none; 
        margin-top: 20px; 
        text-align: center; /* ISSO CENTRALIZA AS DATAS E FUNÇÕES */
        font-size: 1.1rem; 
        padding: 15px;
        background: var(--glass);
        border-radius: 12px;
        width: 90%; /* Largura para o fundo não colar nas bordas */
        animation: fadeIn 0.3s; 
    }

    .repertorio-item { background: var(--glass); padding: 15px; border-radius: 12px; margin-bottom: 10px; border-left: 4px solid var(--accent); }
    .link-box { display: flex; gap: 10px; margin-top: 10px; }
    .link-btn { flex: 1; padding: 8px; border-radius: 8px; text-decoration: none; font-size: 0.7rem; font-weight: 700; text-align: center; }
    .btn-cifra { background: #10b981; color: white; }
    .btn-audio { background: #3b82f6; color: white; }

    /* RESTAURAÇÃO DA APARÊNCIA DO METRÔNOMO ORIGINAL */
    .tool-container { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
    @media (max-width: 650px) { .tool-container { grid-template-columns: 1fr; } }
    .met-circle-wrap { position: relative; width: 160px; height: 160px; margin: 0 auto 20px; }
    .met-circle-svg { transform: rotate(-90deg); width: 160px; height: 160px; }
    .met-circle-bg { fill: none; stroke: var(--glass); stroke-width: 8; }
    .met-circle-progress { fill: none; stroke: var(--accent); stroke-width: 8; stroke-linecap: round; stroke-dasharray: 440; stroke-dashoffset: 440; }
    .met-content { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; width: 100%; }
    .met-bpm-num { font-size: 2.5rem; font-weight: 800; display: inline-block; line-height: 1; min-width: 80px; }
    .met-bpm-label { font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px; display: block; margin-top: 5px; }
    .met-btn-step { background: none; border: none; color: var(--accent); font-size: 1.5rem; cursor: pointer; padding: 10px; transition: 0.2s; }
    .select-met { background: #1e293b; color: white; border: 1px solid var(--border); padding: 12px; border-radius: 12px; width: 100%; margin-top: 15px; font-size: 0.85rem; }

    .info-content-box { font-size: 0.85rem; line-height: 1.6; color: var(--text-main); }
    .info-content-box h3 { color: var(--accent); font-size: 1rem; margin-top: 20px; border-bottom: 1px solid var(--border); padding-bottom: 5px; }
    .info-content-box ul { padding-left: 20px; }
    .info-content-box b { color: var(--accent); }

    .modal { position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 2000; display: none; align-items: center; justify-content: center; padding: 20px; }
    .modal img { max-width: 100%; max-height: 90vh; border-radius: 10px; }

    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
/* ESTILO DO VELOCÍMETRO */
    .tuner-ui { position: relative; width: 220px; height: 130px; margin: 20px auto; display: flex; align-items: center; justify-content: center; }
    .tuner-arc { 
      width: 200px; height: 200px; border-radius: 50%; 
      border: 12px solid var(--glass); border-bottom-color: transparent; 
      transform: rotate(-45deg); position: absolute; top: 10px;
    }
    .led-container { display: flex; gap: 6px; justify-content: center; align-items: flex-end; height: 40px; margin-bottom: 20px; }
    .led { width: 14px; height: 25px; background: var(--glass); border-radius: 4px; transition: 0.2s; }
    .led-center { height: 40px; width: 18px; }

    /* CORES DOS LEDS (Só aparecem quando a classe é adicionada) */
    .v-red { background: #ef4444 !important; box-shadow: 0 0 15px #ef4444; }
    .v-orange { background: #f97316 !important; box-shadow: 0 0 15px #f97316; }
    .v-yellow { background: #facc15 !important; box-shadow: 0 0 10px #facc15; }
    .v-green { background: #22c55e !important; box-shadow: 0 0 20px #22c55e; }
    
    #pitch-note { font-size: 4.5rem; font-weight: 800; color: var(--text-muted); transition: 0.3s; z-index: 2; margin-top: 20px; }
    #pitch-freq { color: var(--text-muted); font-size: 0.85rem; margin-bottom: 20px; }

/* ===== Admin / Editor ===== */
.admin-only{ display:none; }
body.is-admin .admin-only{ display:block; }

.auth-row{ margin-top:10px; display:flex; gap:10px; flex-wrap:wrap; }

.chip-row{ display:flex; flex-wrap:wrap; gap:8px; justify-content:center; }
.chip{ padding:6px 10px; border-radius:999px; border:1px solid var(--border); background: var(--glass); font-size:.75rem; font-weight:800; color: var(--text-main); cursor:pointer; }
.chip.muted{ color: var(--text-muted); cursor:default; }
.chip.active{ border-color: var(--accent); color: var(--accent); box-shadow: 0 0 0 3px var(--accent-glow); }

.edit-hint{ font-size:.7rem; color: var(--text-muted); margin-top:8px; text-align:center; }
.field-row{ display:flex; align-items:center; justify-content:flex-start; gap:6px; flex-wrap:wrap; }
.field-row .value{ font-weight:800; color: var(--text-main); text-align:left; }
.field-row .value .name{ color: var(--accent); }
.field-row .value .sep{ color: var(--text-muted); }

.modal-card{
  background: var(--card);
  border:1px solid var(--border);
  border-radius: 18px;
  width: min(520px, 95vw);
  max-height: 85vh;
  overflow:auto;
  padding: 18px;
  box-shadow: var(--shadow);
}
.modal-title{ font-weight:900; color: var(--accent); margin:0 0 10px 0; display:flex; align-items:center; justify-content:space-between; gap:10px; }
.modal-close{ background:none; border:none; color: var(--text-muted); font-size: 1.2rem; cursor:pointer; padding:8px; }
.list-item{ display:flex; align-items:center; justify-content:space-between; gap:10px; padding:12px; border-radius:12px; border:1px solid var(--border); background: rgba(255,255,255,0.02); margin-bottom:10px; cursor:pointer; }
.list-item:hover{ border-color: rgba(45,212,191,0.35); }
.list-item .left{ display:flex; flex-direction:column; gap:3px; }
.list-item .top{ font-weight:900; }
.list-item .sub{ font-size:.75rem; color: var(--text-muted); }
.small-btn{ background: var(--glass); border: 1px solid var(--border); color: var(--text-main); padding:10px 12px; border-radius: 12px; cursor:pointer; font-weight:800; font-size:.8rem; }
.small-btn.primary{ border-color: var(--accent); color: var(--accent); box-shadow: 0 0 0 3px var(--accent-glow); }
.small-btn.danger{ border-color: rgba(239,68,68,.35); color: #ef4444; }
.input{ width:100%; padding:12px; border-radius:12px; border:1px solid var(--border); background: var(--glass); color: white; font-family: inherit; font-size:.9rem; }
.textarea{ width:100%; min-height: 150px; padding:12px; border-radius:12px; border:1px solid var(--border); background: var(--glass); color: white; font-family: inherit; font-size:.85rem; line-height:1.5; }
.grid-2{ display:grid; grid-template-columns: 1fr 1fr; gap: 12px; }
@media (max-width:650px){ .grid-2{ grid-template-columns: 1fr; } }

hr.sep{ border:none; border-top:1px solid var(--border); margin:16px 0; }


/* ======================================================
   Escalas — visual mais compacto (celular)
====================================================== */
.escala-key{
  color: var(--text-muted);
  font-weight: 800;
  font-size: 0.86rem;
  line-height: 1.2;
  white-space: nowrap;
}
.field-row .colon{
  color: var(--text-muted);
  font-weight: 800;
  margin-right: 2px;
}
